<?xml version="1.0"?>
<guide self="ebuild-writing/functions/pkg_nofetch/">
<chapter>
<title>pkg_nofetch</title>

<body>
<table>
  <tr>
    <th>函数名</th>
    <ti><c>pkg_nofetch</c></ti>
  </tr>
  <tr>
    <th>用途</th>
    <ti>告知用户如何处理'有取回限制'的软件包</ti>
  </tr>
  <tr>
    <th>Sandbox</th>
    <ti>启用</ti>
  </tr>
  <tr>
    <th>所需权限</th>
    <ti>root</ti>
  </tr>
  <tr>
    <th>被谁调用</th>
    <ti>ebuild</ti>
  </tr>
</table>
</body>

<section>
<title>默认 <c>pkg_nofetch</c></title>
<body>
<codesample lang="ebuild">
pkg_nofetch()
{
    [ -z "${SRC_URI}" ] &amp;&amp; return

    echo "!!! The following are listed in SRC_URI for ${PN}:"
    for MYFILE in `echo ${SRC_URI}`; do
        echo "!!!   $MYFILE"
    done
    return
}
</codesample>
</body>
</section>

<section>
<title>实例 <c>pkg_nofetch</c></title>
<body>
<codesample lang="ebuild">
pkg_nofetch() {
    einfo "Please download"
    einfo "  - ${P}-main.tar.bz2"
    einfo "  - ${P}-extras.tar.bz2"
    einfo "from ${HOMEPAGE} and place them in ${DISTDIR}"
}
</codesample>
</body>
</section>

<section>
<title>备注 <c>pkg_nofetch</c></title>
<body>
<p>
只有软件包被 <c>RESTRICT="fetch"</c> 标记后该函数才会被激活。(见 <uri link="::general-concepts/mirrors#Restricting Automatic Mirroring"/>)
设置, 并且只在 <c>SRC_URI</c> 所列出的元素在 <c>distfiles</c> 目录不可用时(系统才会调用此函数).
</p>
</body>
</section>

</chapter>
</guide>
